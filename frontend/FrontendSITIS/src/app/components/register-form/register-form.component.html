<div class="container-form">



  <form [formGroup]="regForm" class="reg-form" (submit)="createUser()">
    <mat-error *ngIf="error">Las constraseñas no coinciden</mat-error>

    <mat-form-field>
      <mat-label>Nombre de Usuario</mat-label>
      <input matInput placeholder="Ej. Marcos" value="" formControlName="userName">
      <mat-error *ngIf="regForm.get('userName')?.errors?.['required']">El Nombre de usuario es obligatorio</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Contraseña</mat-label>
      <input matInput type="password" placeholder="Ingrese su contraseña" formControlName="password">
      <mat-error *ngIf="regForm.get('password')?.errors?.['required']">la contraseña es  obligatoria</mat-error>
      <mat-error *ngIf="regForm.get('password')?.errors?.['pattern']">la contraseña no cumple con los requerimientos, minimo 6 caracteres</mat-error>

    </mat-form-field>

      <mat-form-field>
        <mat-label>Confirmar Contraseña</mat-label>
        <input matInput type="password" placeholder="Ingrese su contraseña" formControlName="confirmPassword">
        <mat-error *ngIf="regForm.get('confirmPassword')?.errors?.['required']">Este campo es  obligatorio</mat-error>
      </mat-form-field>

    <mat-form-field >
      <mat-label>Correo Electronico</mat-label>
      <input class="temp" matInput placeholder="Ej. Marcos@gmail.com" formControlName="email">
      <mat-error *ngIf="regForm.get('email')?.errors?.['required']">El correo electronico es obligatorio</mat-error>
      <mat-error *ngIf="regForm.get('email')?.errors?.['email']">El correo electronico no tiene el formato correcto</mat-error>


    </mat-form-field>

    <mat-form-field >
      <mat-label>Perfil</mat-label>
      <mat-select [formControl]="profile">
        <mat-option>--</mat-option>
         <mat-option *ngFor="let profile of profiles;let i = index" [value]="profile" formControlName="profile">
          {{profiles[i].name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="profile.hasError('required')">El perfil es un campo obligatorio</mat-error>

    </mat-form-field>

    <button [disabled]="regForm.invalid" mat-raised-button class="color" type="submit" (click)="createUser()">Crear Usuario</button>

    <ng-container *ngIf="createdUser">
      <mat-label>Usuario Creado Con exito</mat-label>
    </ng-container>


  </form>

</div>
