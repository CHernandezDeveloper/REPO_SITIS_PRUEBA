<div class="container-form">
  <form [formGroup]="viewForm" class="view-form">
    <mat-form-field >
      <mat-label>Perfil</mat-label>
      <mat-select [formControl]="profile">
        <mat-option>--</mat-option>
         <mat-option *ngFor="let profile of profiles;let i = index" [value]="profile" formControlName="profile">
          {{profiles[i].name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="profile.hasError('required')">El perfil es un campo obligatorio</mat-error>
    </mat-form-field>
    <button [disabled]="viewForm.invalid" mat-raised-button class="color" type="submit" (click)="filter()">Buscar</button>
  </form>


  <ng-container *ngIf="activeFilter; else disabledFilter">
  <table>
    <tr *ngFor="let user of listaFiltrada;let i = index;let even = even">

      <div >
        <td>{{user.userName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.profile}}</td>
      </div>

    </tr>
  </table>
  </ng-container>
  <ng-template #disabledFilter>
  <table>
    <tr *ngFor="let user of users;let i = index">

      <div>
        <td>{{user.userName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.profile}}</td>
      </div>

    </tr>
  </table>
  </ng-template>
</div>



